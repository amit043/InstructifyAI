ID,Epic,Title,Description,AcceptanceCriteria,Priority,Estimate,Dependencies,Labels,Status,Sprint
E1-01,E1 Infrastructure & Repo,Bootstrap repo & toolchain,"Initialize repo with uv/poetry, black/isort/mypy, pre-commit, Makefile, .env.example.",Running `make setup && make lint` succeeds; pre-commit hooks fire.,P0,0.5d,,"infra,dx",To Do,
E1-02,E1 Infrastructure & Repo,"Docker Compose stack (API, worker, Postgres, Redis, MinIO)",Compose with healthchecks; shared network; volumes; .env support.,`docker compose up` exposes API /health on :8000; all services healthy.,P0,0.5d,,"infra,devops",To Do,
E1-03,E1 Infrastructure & Repo,Pydantic settings & config profiles,Centralize env config via pydantic-settings; DEV/TEST/PROD profiles.,Missing vars error clearly; defaults sane; profile switch works.,P0,0.5d,,backend,To Do,
E1-04,E1 Infrastructure & Repo,Alembic baseline,Wire SQLAlchemy + Alembic; baseline migration.,`alembic upgrade head` creates schema; downgrade works.,P0,0.5d,,backend,To Do,
E2-01,E2 Ingestion & Storage,Object store client (MinIO/S3) + signed URLs,"Helper for put/get/list + presigned GET/PUT; key layout: /raw/{doc_id}/..., /derived/{doc_id}/..., /exports/{export_id}/...",Roundtrip upload/download in test; signed URL expiry respected.,P0,0.5d,,backend,To Do,
E2-02,E2 Ingestion & Storage,Document registry schema,"Tables: projects, documents, document_versions; fields include doc_hash(SHA256), mime, size, status, metadata JSONB, version.","Unique (project_id, doc_hash) constraint; versioning flag per project.",P0,0.5d,,backend,To Do,
E2-03,E2 Ingestion & Storage,/ingest endpoint (file or URI) with dedup,FastAPI route accepts multipart or JSON URI; mime sniff; compute doc_hash; write to object store; insert Document; enqueue parse job.,Returns doc_id; object exists; Celery task enqueued.,P0,1d,"E1-02,E2-01,E2-02","api,backend,devops",To Do,
E2-04,E2 Ingestion & Storage,Document list & filters,GET /documents?project_id=&type=&status=&q= with pagination; q searches metadata JSONB keys.,Stable pagination; combined filters tested.,P0,0.5d,,api,To Do,
E3-01,E3 Parsers & Universal Chunker,ParserRegistry interface,Pluggable parser interface (detects + yields blocks). Register pdf/html adapters now.,Registry picks correct adapter for mime/source_type in tests.,P0,0.5d,,backend,To Do,
E3-02,E3 Parsers & Universal Chunker,Universal Chunker (token/section aware),"Chunker merges blocks into ~700–1000 token chunks; preserves anchors (page, section_path, bbox/line_range); stable ordering.",Deterministic counts & order on fixtures; token budget within ±10%.,P0,1d,,backend,To Do,
E3-03,E3 Parsers & Universal Chunker,PDF parser v1 (PyMuPDF),"Extract text blocks, page anchors, simple heading heuristic; feed chunker; write derived/chunks.jsonl; store per-doc metrics.",Empty_chunk_ratio < 0.1 on fixtures; chunks.jsonl lines == DB rows.,P0,1d,E3-02,backend,To Do,
E3-04,E3 Parsers & Universal Chunker,HTML parser v1 (BeautifulSoup),Strip boilerplate; compute section_path from h1–h6; preserve code blocks; table placeholders only.,Section_path present for ≥90% chunks; stable order across runs.,P0,1d,E3-02,backend,To Do,
E3-05,E3 Parsers & Universal Chunker,Derived writer & DB batcher,"Stream JSONL to MinIO; batch insert chunks (index on (doc_id, order)); idempotent overwrite by doc_id+version.",Re-parse overwrites derived + rows for the same version without dupes.,P0,0.5d,,backend,To Do,
E4-01,"E4 Taxonomy, Guidelines & Curation (LS-first)",Taxonomy service v1 (versioned),"CRUD per-project taxonomy with field types (string, enum, bool, number, date), required flags.",POST/PUT/GET work; version increments; validation enforced.,P0,1d,,api,To Do,
E4-02,"E4 Taxonomy, Guidelines & Curation (LS-first)",Labeling guidelines on taxonomy fields,Add `helptext` and `examples[]` per field to guide curators; surfaced in LS UI.,Guidelines visible for fields; included in LS config render.,P0,0.5d,E4-01,"product,ux",To Do,
E4-03,"E4 Taxonomy, Guidelines & Curation (LS-first)",Label Studio project config generator,Generate LS labeling config from active taxonomy; map chunk text + metadata fields into tasks.,New LS project shows fields & helptext correctly.,P0,0.5d,E4-01,"ui,integrations",To Do,
E4-04,"E4 Taxonomy, Guidelines & Curation (LS-first)",LS webhook → metadata patch + audit,Webhook endpoint to apply LS annotations to chunk.metadata; append audit entries.,Posting LS payload updates chunk metadata; audit row created.,P0,0.5d,E4-03,"api,integrations",To Do,
E4-05,"E4 Taxonomy, Guidelines & Curation (LS-first)",Bulk metadata apply,API to apply a patch to selected chunks (range/filter) atomically.,Bulk edit succeeds; audits per chunk written.,P0,0.5d,,backend,To Do,
E5-01,E5 Exports & Reproducibility,Template DSL (Jinja2) for exports,Render instruction/input/output/label/meta from chunk/doc context; reusable for JSONL/CSV.,Unit tests produce expected lines on fixtures.,P0,0.5d,,backend,To Do,
E5-02,E5 Exports & Reproducibility,JSONL/CSV exporters + manifest,"POST /export/jsonl|csv accept filters + template; materialize under /exports/{id}; write manifest.json (doc_ids, taxonomy_version, parser_commit, template_hash).",Download via signed URL; re-running with same inputs is byte-identical.,P0,1d,E5-01,backend,To Do,
E5-03,E5 Exports & Reproducibility,RAG preset templates,"Provide built-in templates for (context, answer) pairs using section_path + chunk text; expose in API.","Selecting RAG preset yields (context,answer) JSONL; tests validate.",P0,0.5d,,backend,To Do,
E6-01,E6 Suggestions (Rules) & Quality Gates,Rule-based suggestors v1,"Detectors: severity, step id (`^Step\s?\d+:`), ticket id (`(JIRA|BUG|INC)-\d+`), datetime. Return value, confidence, rationale, spans.",Edge-case tests pass; suggestions persisted under `suggestions.*`.,P0,1d,,backend,To Do,
E6-02,E6 Suggestions (Rules) & Quality Gates,Accept suggestion (single & bulk),PATCH endpoint to copy suggestion → metadata (idempotent); include audit.,"After call, metadata updated; audit created with suggestion id.",P0,0.5d,E6-01,backend,To Do,
E6-03,E6 Suggestions (Rules) & Quality Gates,Curation completeness metric,Compute % chunks meeting required taxonomy fields; per-doc and per-project rollups.,API returns completeness>= thresholds; appears in scorecard.,P0,0.5d,,analytics,To Do,
E6-04,E6 Suggestions (Rules) & Quality Gates,Quality gates (parse + curation),"Mark `needs_review` if empty_ratio or parse_error_ratio exceed thresholds, or completeness < target.",Docs flip status accordingly; thresholds configurable per project.,P0,0.5d,E6-03,backend,To Do,
E7-01,"E7 Observability, Audits & Scorecard",Correlation IDs across services,Propagate request_id doc-wide (ingest→parse→persist); include in logs.,Logs for a doc share the same id across API/worker.,P0,0.5d,,devops,To Do,
E7-02,"E7 Observability, Audits & Scorecard",Audit log table & API,"Append-only audit for metadata edits and exports; filter by doc_id, user, action.",Audit retrieval shows correct entries; CSV export endpoint works.,P0,0.5d,,backend,To Do,
E7-03,"E7 Observability, Audits & Scorecard",Scorecard CLI,"CLI to ingest golden set, run parse, compute coverage & completeness metrics; fail on breach.",`python scripts/scorecard.py` prints metrics and returns non-zero on fail.,P0,0.5d,,qa,To Do,
E8-01,"E8 Golden Set, CI & Demo",Golden Set corpus,Check in PDFs/HTML representative of SOPs and test reports; plus small logs+chat placeholders.,Fixtures available under examples/golden; licenses documented.,P0,0.5d,,"qa,docs",To Do,
E8-02,"E8 Golden Set, CI & Demo",CI pipeline (lint/test/build),"GitHub Actions: lint, unit/e2e tests, build images, cache deps, publish artifacts.",PRs show green checks; artifacts downloadable.,P0,0.5d,,"ci,devops",To Do,
E8-03,"E8 Golden Set, CI & Demo",Demo script & README,Script to run end-to-end demo (ingest→parse→LS tag→export); README with screenshots.,New contributors can demo in <10 minutes locally.,P0,0.5d,,"docs,dx",To Do,
E9-01,"E9 Security, RBAC & Project Settings",RBAC (viewer/curator) per project,Restrict edit endpoints; JWT auth stub acceptable in Phase 1.,Viewer gets 403 on edit; Curator can edit; tests pass.,P0,0.5d,,"security,api",To Do,
E9-02,"E9 Security, RBAC & Project Settings",Project settings: engine toggles & cost guards,"Per-project flags for suggestion engines (rules only now, mini-LLM off by default), max suggestions per doc, timeouts.",Changing settings affects new parses; defaults documented.,P0,0.5d,,"product,backend",To Do,
E9-03,"E9 Security, RBAC & Project Settings",Signed URL policy,All artifact access via time-limited signed URLs; no public buckets.,Direct bucket access removed; expiry respected.,P0,0.5d,,security,To Do,
E10-01,E10 Phase 1.5 Stubs (Deferred),Logs parser (windowing + severity) [DEFERRED],Implement robust log formats and windowing; integrate later.,Marked P2 and out-of-scope for Phase 1 MVP.,P2,1d,,deferred,To Do,
E10-02,E10 Phase 1.5 Stubs (Deferred),"Chat parser (roles, turns) [DEFERRED]",Role attribution for conversations; integrate later.,Marked P2 and out-of-scope for Phase 1 MVP.,P2,0.5d,,deferred,To Do,
E10-03,E10 Phase 1.5 Stubs (Deferred),Table extraction (Camelot/Tabula) [DEFERRED],Extract table CSVs; link via table_ref; integrate later.,Marked P2 and out-of-scope for Phase 1 MVP.,P2,1d,,deferred,To Do,
E10-04,E10 Phase 1.5 Stubs (Deferred),Span/NER editing + spaCy export [DEFERRED],Minimal span editor and spaCy training export; integrate later.,Marked P2 and out-of-scope for Phase 1 MVP.,P2,2d,,deferred,To Do,
E10-05,E10 Phase 1.5 Stubs (Deferred),OCR fallback (Tesseract) [DEFERRED],OCR image-only PDFs/pages; integrate later under flag.,Marked P2 and out-of-scope for Phase 1 MVP.,P2,1d,,deferred,To Do,
